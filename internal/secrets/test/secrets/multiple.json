[
  {
    "name": "friend",
    "create": "echo hello friend"
  },
  {
    "name": "db-creds",
    "create": "openssl rand -base64 32",
    "derive": [
      {
        "name": "service",
        "create": "cat > /etc/enrypted-creds/$NAME/$ID.cred",
        "destroy": "rm -f /etc/enrypted-creds/$NAME/$ID.cred",
        "activate": "cp -f /etc/enrypted-creds/$NAME/$ID.cred /etc/enrypted-creds/service.cred",
        "deactivate": "rm -f /etc/enrypted-creds/service.cred"
      },
      {
        "name": "remote",
        "create": "ssh host -csecret-agent create $NAME $ID",
        "destroy": "ssh host -csecret-agent destroy $NAME $ID",
        "activate": "ssh host -csecret-agent activate $NAME $ID",
        "deactivate": "ssh host -csecret-agent deactivate $NAME $ID",
        "test": "ssh host -csecret-agent test $NAME $ID"
      }
    ]
  }
]
